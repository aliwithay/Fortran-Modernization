The model is in DNS_code/
The test data is in example/
##--------modules loaded---------##
1) ncarenv/1.2   2) intel/17.0.1   3) ncarcompilers/0.4.1   4) mpt/2.19   5) netcdf/4.6.1
#library installed locally
FFTW2.1.5  (location: /glade/work/sisichen/fftw2.1.5intel_openmpi )

##-----how to run the code at Cheyenne----##
1 compile the code by "make" 
2 submit the job by "qsub run_cheyenne"
or simply "./compile_and_run"

##------model config & simulations (need to run 2 spin-ups before the real simulation)-----##
1 turbulence spin-up run: need to get fully-developed turbulence before insert droplets
param.inc: 
    iturb = 1 #turn on turbulence
    gomic = 0 #turn off droplets
    thermo = 1 #turn on thermodynamic calculation (e.g., Temperature & water vapor)
compile and submit
    ./compile_and_run
File output:
    Zk1.out.ncf     #flow field data in Fourier space
    out.ncf         #flow field data in real space if rsflag = 1 in main.F90
    Run_aerosol.*   #various informations with its file explained in main.F90

2 droplet(microphysics) spin-up run: 
Restart file:
    mv Zk1.out.ncf Zk.in.ncf #rename the output to *in.ncf and used as restart file
param.inc:
    gomic = 1 #initiate droplets
compile and submit
    ./compile_and_run
File output:
    Zk1.out.ncf     #flow field data in Fourier space
    out.ncf         #flow field data in real space if rsflag = 1 in main.F90
    Run_aerosol.*   #various informations with its file explained in main.F90
    drop1.out.ncf   #droplet data

3 real simulation
Restart file:
    mv Zk1.out.ncf Zk.in.ncf
    mv drop1.out.ncf drop.in.ncf
param.inc:
    gomic = 2 #droplets from restart files

compile and submit
    ./compile_and_run


##----test run----------------------------------##
The results are in the folder "example"
cd example
spin1: output for spin1
spin2: output for spin2
simulation: output for real simulation

